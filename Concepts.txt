====================
=      UNITS       =
====================

+ Creation

- use dummy building for each unit, edit city screen to hide them (add column in building table)
- Lua check for required resources for an unit in city at the start of a player turn to create or remove the dummy building


====================
=      COMBAT      =
====================

when destroying an unit in melee attack:
- capture % of wounded left
- capture % of materiel left
- capture % of horses left
- capture % of fuel left
- transform % of damaged vehicule to materiel

when destroying an unit in ranged attack:
- % of wounded left -> defender city if linked
- everything else lost

---------------------------------------------------------------

+ Units can have more components than expected by its HP left (just put them in reserve)

- excedental reserve is transfered to city if a supply line is open
- if excedent > max active then the component is lost (that situation shouldn't happen)

example:
- desertion in a mechanized units: remove the HP corresponding to the deserting personnel and put the vehicules corresponding to the HP lost in reserve.
- mechanical failure in case of low reliability: remove the HP corresponding to the vehicules damaged and put the personnel corresponding to the HP lost in reserve.
- chance of ejection/escape of the crew of an aircraft/vehicule destroyed in combat situation : when removing each vehicules corresponding to the HP lost in combat do a check and put unarmed crew in reserve (or wounded)


====================
=     Healing      =
====================

- Unit heal from reserve first then receive supply


====================
=    Buildings     =
====================

+ Resources creation

- Iron stock in city -> Iron Smith -> produce Materiel
- Iron & coal stock in city -> Steel Factory -> produce Steel

+ Resource stock

- New table 'BuildingStock' ('BuildingType', 'ResourceType', 'Value')
- Granary -> can stock 15 units of Rice, Wheat



====================
=      Budget      =
====================


calculate need (ie maintenance cost, then bonus if superior, malus if inferior)

military : moral (combat: retreat), reliability (mechanized need less materiel), loyalty (desertion, rebellion, linked to moral and empire stability)
culture
diplomacy
intelligence
entertainement
science


====================
= Resources stock  =
====================

how to find which resources can be sold & which can be bought

- slider to sell until X % of stock left 
- slider to buy until Y % of stock filled
- slider to convert to another resource until Z % of stock left

converting a resource (in buildings like steel factory using coal and iron) has priority, so to always have a stock to sell, set Z > X, but the number of converted / buyed resources is limited per turn

for example a market could allows 10 units of each resources / turn or a stock exchange 100 units of each resources / turn


if X > Y 
    - will buy until Y % of stock filled
    - will sell until X % of stock left
    - and means will not buy if it's selling
if X < Y 
    - will always buy until Y % of stock filled
    - will sell until X % of stock left
    - can buy and sell at the same time

so maybe force X >= Y every time (if X = Y = % stock left -> no buying nor selling)

default values:
PERCENTAGE_STOCK_REQUIRED_TO_SELL = 50
PERCENTAGE_STOCK_REQUIRED_TO_CONVERT = 40
PERCENTAGE_STOCK_REQUIRED_TO_STOP_BUYING = 50

UI :
    - national stock (main menu on new screen)
       - general slider for nation (ie default for all resources)
       - sliders for all resources (when used not updated by general slider)
       - button to reset values of all resources slider to general slider
    - city stock (list and button to unfold at bottom of new screen)
       - general slider for city (ie default for all resources in city - override general slider for nation at the city level)
       - sliders for all resources (when used they are not updated by general slider)
       - button to reset values of all resources slider to general slider for city
       - button to reset value of general slider for city to general slider for nation
       - button to reset values of all sliders of this city to general slider for nation

====================
=Resource Transfert=
====================

How much resources are transfered using trade routes

default values:
MAX_CARGO_PER_TRADER = 10 -- Max value for exported/imported resource per trader
EXPORTED_CARGO_PER_TRADER = 10 -- default exported units of each resources
IMPORTED_CARGO_PER_TRADER = 5 -- default imported units of each resources

UI :
    - national trading (main menu on new screen)
       - 2 general values for max quantity to export/import (ie default for all resources)
       - 2 values (max to export/import) for all resources
        - button to reset values of all resources values to general values

    - trader (list and button to unfold at bottom of new screen, button to unfold on trader screen)
       - 2 general values for max quantity to export/import (ie default for all resources)
       - 2 values (max to export/import) for each resources that this trader can access
       - button to reset values of all resources values to this trader general values
       - button to reset values of all this traders values to general values for nation

====================
=      Economy     =
====================

4 classes: upper, middle, lower, slave (prisonners of war, policy dependant)

rich (max % from middle+poor), middle (default), poor
rich give more gold from tax
poor, slave give no gold from tax
building / luxury resources / tax : change rate (per turn) of convertion from middle to rich/poor
poor give unrest/unhappiness

Taxe rate used to determine gold the change rate

default value
BASE_GOLD_PER_RICH_CITIZEN = 100
BASE_TAXE_RICH_CLASS = 10

BASE_GOLD_PER_MIDDLE_CLASS_CITIZEN = 10
BASE_TAXE_RICH_CLASS = 10

UI :
    - national taxe rate
       - 2 values for rich/middle class taxe rate
    - city taxe rate
       - 2 values for rich/middle class taxe rate
       - 1 button to reset city values to national values
	   
====================
=  Programmation   =
====================
	   
